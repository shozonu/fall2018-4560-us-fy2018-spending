-- CREATE DATABASE group1;
-- USE group1;
-- hdfs dfs -chmod -R o+w [dir]

CREATE EXTERNAL TABLE IF NOT EXISTS contracts_prime_NNN
(
    award_id_piid STRING,
    modification_number STRING,
    transaction_number STRING,
    parent_award_agency_id STRING,
    parent_award_agency_name STRING,
    parent_award_id STRING,
    parent_award_modification_number STRING,
    federal_action_obligation DECIMAL,
    total_dollars_obligated DECIMAL,
    base_and_exercised_options_value DECIMAL,
    current_total_value_of_award DECIMAL,
    base_and_all_options_value DECIMAL,
    potential_total_value_of_award DECIMAL,
    action_date TIMESTAMP,
    period_of_performance_start_date TIMESTAMP,
    period_of_performance_current_end_date TIMESTAMP,
    period_of_performance_potential_end_date TIMESTAMP,
    ordering_period_end_date TIMESTAMP,
    awarding_agency_code STRING,
    awarding_agency_name STRING,
    awarding_sub_agency_code STRING,
    awarding_sub_agency_name STRING,
    awarding_office_code STRING,
    awarding_office_name STRING,
    funding_agency_code STRING,
    funding_agency_name STRING,
    funding_sub_agency_code STRING,
    funding_sub_agency_name STRING,
    funding_office_code STRING,
    funding_office_name STRING,
    foreign_funding STRING,
    foreign_funding_description STRING,
    sam_exception STRING,
    sam_exception_description STRING,
    recipient_duns STRING,
    recipient_name STRING,
    recipient_doing_business_as_name STRING,
    cage_code STRING,
    recipient_parent_name STRING,
    recipient_parent_duns STRING,
    recipient_country_code STRING,
    recipient_country_name STRING,
    recipient_address_line_1 STRING,
    recipient_address_line_2 STRING,
    recipient_city_name STRING,
    recipient_state_code STRING,
    recipient_state_name STRING,
    recipient_zip_4_code STRING,
    recipient_congressional_district STRING,
    recipient_phone_number STRING,
    recipient_fax_number STRING,
    primary_place_of_performance_country_code STRING,
    primary_place_of_performance_country_name STRING,
    primary_place_of_performance_city_name STRING,
    primary_place_of_performance_county_name STRING,
    primary_place_of_performance_state_code STRING,
    primary_place_of_performance_state_name STRING,
    primary_place_of_performance_zip_4 STRING,
    primary_place_of_performance_congressional_district STRING,
    award_or_idv_flag STRING,
    award_type_code STRING,
    award_type STRING,
    idv_type_code STRING,
    idv_type STRING,
    multiple_or_single_award_idv_code STRING,
    multiple_or_single_award_idv STRING,
    type_of_idc_code STRING,
    type_of_idc STRING,
    type_of_contract_pricing_code STRING,
    type_of_contract_pricing STRING,
    award_description STRING,
    action_type_code STRING,
    action_type STRING,
    solicitation_identifier STRING,
    number_of_actions STRING,
    inherently_governmental_functions STRING,
    inherently_governmental_functions_description STRING,
    product_or_service_code STRING,
    product_or_service_code_description STRING,
    contract_bundling_code STRING,
    contract_bundling STRING,
    dod_claimant_program_code STRING,
    dod_claimant_program_description STRING,
    naics_code STRING,
    naics_description STRING,
    recovered_materials_sustainability_code STRING,
    recovered_materials_sustainability STRING,
    domestic_or_foreign_entity_code STRING,
    domestic_or_foreign_entity STRING,
    dod_acquisition_program_code STRING,
    dod_acquisition_program_description STRING,
    information_technology_commercial_item_category_code STRING,
    information_technology_commercial_item_category STRING,
    epa_designated_product_code STRING,
    epa_designated_product STRING,
    country_of_product_or_service_origin_code STRING,
    country_of_product_or_service_origin STRING,
    place_of_manufacture_code STRING,
    place_of_manufacture STRING,
    subcontracting_plan_code STRING,
    subcontracting_plan STRING,
    extent_competed_code STRING,
    extent_competed STRING,
    solicitation_procedures_code STRING,
    solicitation_procedures STRING,
    type_of_set_aside_code STRING,
    type_of_set_aside STRING,
    evaluated_preference_code STRING,
    evaluated_preference STRING,
    research_code STRING,
    research STRING,
    fair_opportunity_limited_sources_code STRING,
    fair_opportunity_limited_sources STRING,
    other_than_full_and_open_competition_code STRING,
    other_than_full_and_open_competition STRING,
    number_of_offers_received STRING,
    commercial_item_acquisition_procedures_code STRING,
    commercial_item_acquisition_procedures STRING,
    small_business_competitiveness_demonstration_program STRING,
    commercial_item_test_program_code STRING,
    commercial_item_test_program STRING,
    a76_fair_act_action_code STRING,
    a76_fair_act_action STRING,
    fed_biz_opps_code STRING,
    fed_biz_opps STRING,
    local_area_set_aside_code STRING,
    local_area_set_aside STRING,
    price_evaluation_adjustment_preference_percent_difference STRING,
    clinger_cohen_act_planning_code STRING,
    clinger_cohen_act_planning STRING,
    materials_supplies_articles_equipment_code STRING,
    materials_supplies_articles_equipment STRING,
    labor_standards_code STRING,
    labor_standards STRING,
    construction_wage_rate_requirements_code STRING,
    construction_wage_rate_requirements STRING,
    interagency_contracting_authority_code STRING,
    interagency_contracting_authority STRING,
    other_statutory_authority STRING,
    program_acronym STRING,
    parent_award_type_code STRING,
    parent_award_type STRING,
    parent_award_single_or_multiple_code STRING,
    parent_award_single_or_multiple STRING,
    major_program STRING,
    national_interest_action_code STRING,
    national_interest_action STRING,
    cost_or_pricing_data_code STRING,
    cost_or_pricing_data STRING,
    cost_accounting_standards_clause_code STRING,
    cost_accounting_standards_clause STRING,
    gfe_gfp_code STRING,
    gfe_gfp STRING,
    sea_transportation_code STRING,
    sea_transportation STRING,
    undefinitized_action_code STRING,
    undefinitized_action STRING,
    consolidated_contract_code STRING,
    consolidated_contract STRING,
    performance_based_service_acquisition_code STRING,
    performance_based_service_acquisition STRING,
    multi_year_contract_code STRING,
    multi_year_contract STRING,
    contract_financing_code STRING,
    contract_financing STRING,
    purchase_card_as_payment_method_code STRING,
    purchase_card_as_payment_method STRING,
    contingency_humanitarian_or_peacekeeping_operation_code STRING,
    contingency_humanitarian_or_peacekeeping_operation STRING,
    alaskan_native_owned_corporation_or_firm STRING,
    american_indian_owned_business STRING,
    indian_tribe_federally_recognized STRING,
    native_hawaiian_owned_business STRING,
    tribally_owned_business STRING,
    veteran_owned_business STRING,
    service_disabled_veteran_owned_business STRING,
    woman_owned_business STRING,
    women_owned_small_business STRING,
    economically_disadvantaged_women_owned_small_business STRING,
    joint_venture_women_owned_small_business STRING,
    joint_venture_economic_disadvantaged_women_owned_small_bus STRING,
    minority_owned_business STRING,
    subcontinent_asian_asian_indian_american_owned_business STRING,
    asian_pacific_american_owned_business STRING,
    black_american_owned_business STRING,
    hispanic_american_owned_business STRING,
    native_american_owned_business STRING,
    other_minority_owned_business STRING,
    contracting_officers_determination_of_business_size STRING,
    contracting_officers_determination_of_business_size_code STRING,
    emerging_small_business STRING,
    community_developed_corporation_owned_firm STRING,
    labor_surplus_area_firm STRING,
    us_federal_government STRING,
    federally_funded_research_and_development_corp STRING,
    federal_agency STRING,
    us_state_government STRING,
    us_local_government STRING,
    city_local_government STRING,
    county_local_government STRING,
    inter_municipal_local_government STRING,
    local_government_owned STRING,
    municipality_local_government STRING,
    school_district_local_government STRING,
    township_local_government STRING,
    us_tribal_government STRING,
    foreign_government STRING,
    organizational_type STRING,
    corporate_entity_not_tax_exempt STRING,
    corporate_entity_tax_exempt STRING,
    partnership_or_limited_liability_partnership STRING,
    sole_proprietorship STRING,
    small_agricultural_cooperative STRING,
    international_organization STRING,
    us_government_entity STRING,
    community_development_corporation STRING,
    domestic_shelter STRING,
    educational_institution STRING,
    foundation STRING,
    hospital_flag STRING,
    manufacturer_of_goods STRING,
    veterinary_hospital STRING,
    hispanic_servicing_institution STRING,
    receives_contracts STRING,
    receives_grants STRING,
    receives_contracts_and_grants STRING,
    airport_authority STRING,
    council_of_governments STRING,
    housing_authorities_public_tribal STRING,
    interstate_entity STRING,
    planning_commission STRING,
    port_authority STRING,
    transit_authority STRING,
    subchapter_scorporation STRING,
    limited_liability_corporation STRING,
    foreign_owned_and_located STRING,
    for_profit_organization STRING,
    nonprofit_organization STRING,
    other_not_for_profit_organization STRING,
    the_ability_one_program STRING,
    number_of_employees STRING,
    annual_revenue DECIMAL,
    private_university_or_college STRING,
    state_controlled_institution_of_higher_learning STRING,
    1862_land_grant_college STRING,
    1890_land_grant_college STRING,
    1994_land_grant_college STRING,
    minority_institution STRING,
    historically_black_college STRING,
    tribal_college STRING,
    alaskan_native_servicing_institution STRING,
    native_hawaiian_servicing_institution STRING,
    school_of_forestry STRING,
    veterinary_college STRING,
    dot_certified_disadvantage STRING,
    self_certified_small_disadvantaged_business STRING,
    small_disadvantaged_business STRING,
    c8a_program_participant STRING,
    historically_underutilized_business_zone_hubzone_firm STRING,
    sba_certified_8a_joint_venture STRING,
    last_modified TIMESTAMP
)
ROW FORMAT SERDE 'org.apache.hadoop.hive.serde2.OpenCSVSerde'
WITH SERDEPROPERTIES (
    "separatorChar" = ",",
    "quoteChar" = "\""
)
STORED AS TEXTFILE
LOCATION '/user/svallej5/_project/data/contracts_prime/partNNN/'
TBLPROPERTIES ('skip.header.line.count'='1');
